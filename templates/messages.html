{% extends 'base.html' %}

{% block title %}The COMIC SWAP {% endblock %}
{% block meta_content %}trade comics safely and easily {% endblock %}



{% block content %}

  


    <h1>MESSAGES</h1>

    <table class="table table-striped mb-5">
        <thead>
          <tr class="clickable-table-row" data-href="/maildetail">
              <th scope="col">Date</th>
            <th scope="col">From</th>
            <th scope="col">Message</th>
            <th>Read</th>
            <th>Reply</th>
            <th>Delete</th>
          </tr>
        </thead>

        {% for message in messages %}
        <tbody>
          <tr class="" data-href="/maildetail">
            <th scope="row"  data-msg-id={{ message.id }}>{{ message.maildate}}</th>
            <td>{{ message.sender.fname }} {{ message.sender.lname }}</td>
            <td>{{ message.subject }}</td>
            <td><a href="/maildetail"><i class="fa fa-eye"></i></a></td>
            <td>
              <a href="/reply/{{ message.id }}"><i class="fa fa-envelope"></i></a></td>
            <td>
              <i class="fa fa-trash" data-mdb-toggle="modal"
              data-mdb-target="#exampleModal"></i> 
            </td>
          </tr>
          {% endfor %}

        </tbody>
      </table>


      <div class="row mb-4">
        <div class="col">
            <button type="button" class="btn btn-primary" onclick="location.href='/newmail'">
                New Message
              </button>
        </div>
    </div>

      <!-- pagination -->
      <div class="row">
        <div
          class="col-12 mb-4 d-flex justify-content-center"
        >
          <nav aria-label="...">
            <ul class="pagination">
              <li class="page-item disabled">
                <a
                  class="page-link"
                  href="#"
                  tabindex="-1"
                  aria-disabled="true"
                  >Previous</a
                >
              </li>
              <li class="page-item">
                <a class="page-link" href="#">1</a>
              </li>
              <li class="page-item active" aria-current="page">
                <a class="page-link" href="#"
                  >2 <span class="visually-hidden">(current)</span></a
                >
              </li>
              <li class="page-item">
                <a class="page-link" href="#">3</a>
              </li>
              <li class="page-item">
                <a class="page-link" href="#">Next</a>
              </li>
            </ul>
          </nav>
        </div>



      </div>
    <!-- end pagination -->


       <!-- Modal -->
       <div
       class="modal fade"
       id="exampleModal"
       tabindex="-1"
       aria-labelledby="exampleModalLabel"
       aria-hidden="true"
     >
       <div class="modal-dialog">
         <div class="modal-content">
           <div class="modal-header">
             <h5 class="modal-title" id="exampleModalLabel">
               Delete this message?
             </h5>
             <button
               type="button"
               class="btn-close"
               data-mdb-dismiss="modal"
               aria-label="Cancel"
             ></button>
           </div>
           <!-- <div class="modal-body">...</div> -->
           <div class="modal-footer">
             <button
               type="button"
               class="btn btn-secondary"
               data-mdb-dismiss="modal"
             >
               Cancel
             </button>
             <button type="button" class="btn btn-danger" onclick="location.href='/deletemsg'">
               Delete
             </button>
           </div>
         </div>
       </div>
     </div>

     <!-- end Modal -->



{% endblock %}